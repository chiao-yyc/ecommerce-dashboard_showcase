# 活動分析系統完整文件總覽

## 📖 文件導航

本文件集提供 `campaigns`、`dim_date`、`holidays` 三表關係系統的完整說明，涵蓋技術實作、維護管理和使用操作三個層面。

## 文件結構

### **🏗️ 技術文件 (開發者)**

#### **[1. 活動維度架構技術文件](./CAMPAIGN_DIMENSION_ARCHITECTURE.md)**
- **適用對象**: 系統架構師、後端開發工程師、資料工程師
- **內容摘要**: 
  - 完整的系統架構設計和資料表關係
  - 分層歸因機制的技術實作細節
  - 索引優化策略和效能考量
  - 資料完整性保障機制
- **關鍵章節**:
  - 🏗️ 系統架構概述
  - 🔧 核心資料表結構  
  - ⚙️ 分層歟因機制
  - 🔄 自動化同步機制
  - 📈 分析視圖架構

### **🛠️ 維護文件 (維運團隊)**

#### **[2. 活動系統維護指南](./CAMPAIGN_MAINTENANCE_GUIDE.md)**
- **適用對象**: DevOps 工程師、資料庫管理員、維運人員
- **內容摘要**:
  - 日常監控檢查和定期維護任務
  - 故障排除指南和效能調優
  - 資料備份還原和災難恢復
  - 系統健康監控和告警機制
- **關鍵章節**:
  - 📊 日常監控檢查
  - 🔧 定期維護任務
  - 🚨 故障排除指南
  - 📈 效能監控
  - 🔄 資料管理操作

### **📱 使用文件 (業務團隊)**

#### **[3. 活動分析系統使用者手冊](./CAMPAIGN_USER_MANUAL.md)**
- **適用對象**: 行銷人員、業務分析師、營運人員
- **內容摘要**:
  - 系統功能概覽和快速入門指南
  - 活動效果分析和假期管理操作
  - 營運分析報表和進階分析技巧
  - 常見使用問題和最佳實踐建議
- **關鍵章節**:
  - 🚀 快速入門指南
  - 📊 活動效果分析
  - 🏖️ 假期管理操作
  - 📈 營運分析報表
  - 🔍 進階分析技巧

### **🔌 API 文件 (開發介接)**

#### **[4. 活動系統 API 參考文件](./CAMPAIGN_API_REFERENCE.md)**
- **適用對象**: 前端開發工程師、API 整合開發者
- **內容摘要**:
  - 完整的函數和視圖 API 說明
  - 參數規格和回傳值結構定義
  - 使用範例和錯誤處理指南
  - 資料類型定義和觸發器機制
- **關鍵章節**:
  - 🔧 核心函數 API
  - 📊 分析視圖 API
  - 🛠️ 管理函數 API
  - 📋 資料類型定義
  - ❌ 錯誤代碼

## 快速定位指南

### **按使用場景導航**

#### **🆕 首次了解系統**
1. 先閱讀 → [系統架構技術文件](./CAMPAIGN_DIMENSION_ARCHITECTURE.md#系統架構概述)
2. 然後查看 → [使用者手冊快速入門](./CAMPAIGN_USER_MANUAL.md#快速入門指南)

#### **💼 業務分析需求**
1. 主要參考 → [使用者手冊](./CAMPAIGN_USER_MANUAL.md)
2. 深度分析 → [API 參考文件 - 分析視圖](./CAMPAIGN_API_REFERENCE.md#分析視圖-api)
3. 問題排除 → [維護指南 - 故障排除](./CAMPAIGN_MAINTENANCE_GUIDE.md#故障排除指南)

#### **🔧 系統開發需求**
1. 架構理解 → [技術架構文件](./CAMPAIGN_DIMENSION_ARCHITECTURE.md)
2. API 開發 → [API 參考文件](./CAMPAIGN_API_REFERENCE.md)
3. 測試驗證 → [維護指南 - 系統檢查](./CAMPAIGN_MAINTENANCE_GUIDE.md#日常監控檢查)

#### **🛠️ 運維管理需求** 
1. 核心參考 → [維護指南](./CAMPAIGN_MAINTENANCE_GUIDE.md)
2. 技術背景 → [技術架構文件 - 效能考量](./CAMPAIGN_DIMENSION_ARCHITECTURE.md#效能考量)
3. API 監控 → [API 參考文件 - 管理函數](./CAMPAIGN_API_REFERENCE.md#管理函數-api)

### **按角色權限導航**

#### **👑 系統管理員**
- **必讀**: 全部四份文件
- **重點**: 維護指南 + 技術架構文件
- **權限**: 完整系統存取權限

#### **💻 開發工程師**
- **必讀**: 技術架構文件 + API 參考文件
- **參考**: 維護指南（開發環境設定）
- **權限**: 開發和測試環境存取

#### **📊 業務分析師**
- **必讀**: 使用者手冊
- **參考**: API 參考文件（分析視圖部分）
- **權限**: 唯讀分析視圖和報表

#### **🎯 行銷人員**
- **必讀**: 使用者手冊（活動分析 + 假期管理）
- **權限**: 假期管理 + 分析報表查詢

#### **🔧 維運人員**
- **必讀**: 維護指南
- **參考**: 技術架構文件（故障排除時）
- **權限**: 系統監控 + 維護操作

## 🔄 系統更新和文件維護

### **文件版本管理**
- **當前版本**: v1.0 (2025-07-24)
- **更新週期**: 隨系統功能更新
- **版本控制**: Git 版本控制，與程式碼同步

### **文件更新原則**
1. **API 變更**: 必須同時更新 API 參考文件
2. **功能新增**: 更新使用者手冊和相關技術文件
3. **維護程序變更**: 更新維護指南
4. **架構調整**: 更新技術架構文件

### **回饋和改進**
- **技術問題**: 透過 GitHub Issues 回報
- **使用問題**: 聯絡資料工程團隊
- **文件改進**: 提交 Pull Request

## 系統核心概念速查

### **分層歸因架構**
```
📱 全站活動層 (site-wide)    → 季節性、假期、品牌活動
🎯 目標導向層 (target-oriented) → 會員、人群活動  
🛍️ 品類專屬層 (category-specific) → 商品、品類活動
```

### **核心資料表關係**
```
campaigns (活動主表) ← campaign_id → dim_date (日期維度表)
holidays (假期表)   ← date      → dim_date (is_holiday)
orders (訂單表)     ← created_at → dim_date (order analysis)
```

### **關鍵 API 函數**
- `calculate_campaign_attributions()`: 歸因計算
- `revenue_attribution_analysis`: 營收歸因視圖
- `campaign_collaboration_analysis`: 協作分析視圖
- `holiday_impact_summary`: 假期影響分析

### **重要管理操作**
- `add_holiday()` / `remove_holiday()`: 假期管理
- `check_campaign_system_health()`: 系統健康檢查
- `check_attribution_quality()`: 歸因品質檢查

## 🎓 學習路徑建議

### **🚀 快速上手路徑 (30分鐘)**
1. 閱讀系統概述（本文件）
2. 執行快速入門範例
3. 查看常用 API 函數

### **💼 業務應用路徑 (2小時)**
1. 完整閱讀使用者手冊
2. 實際操作假期管理
3. 練習活動效果分析查詢

### **🔧 技術實作路徑 (1天)**
1. 深入研讀技術架構文件
2. 理解分層歸因演算法
3. 熟悉 API 介面和資料結構

### **🛠️ 維運管理路徑 (半天)**
1. 熟讀維護指南
2. 建立監控檢查清單
3. 練習故障排除流程

## 相關資源連結

### **系統監控**
- 資料庫效能監控儀表板
- 活動歸因品質報告
- 系統健康狀態檢查

### **開發工具**
- Supabase 管理介面
- PostgreSQL 客戶端工具
- API 測試工具

### **學習資源**
- PostgreSQL 官方文件
- Supabase 開發指南
- 資料分析最佳實踐

---

## 📞 支援聯絡

### **技術支援**
- **資料工程團隊**: 系統架構、API 開發
- **DevOps 團隊**: 系統維運、效能調優
- **產品團隊**: 功能需求、業務邏輯

### **緊急聯絡**
- **系統異常**: [緊急聯絡電話]
- **資料問題**: [資料工程師聯絡方式]
- **業務諮詢**: [業務分析師聯絡方式]

---

**總覽文件版本**: v1.0  
**建立日期**: 2025-07-24  
**維護團隊**: 資料工程團隊  
**文件狀態**: ✅ 完整 | 🔄 持續更新中