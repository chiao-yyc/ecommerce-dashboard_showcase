# 產品 SKU 標準化指南 (整合版)

## 📋 概述

本文檔定義了電商管理平台中產品 SKU (Stock Keeping Unit) 的統一標準格式，以確保編碼的一致性、可讀性和可管理性。

**🔗 系統整合特色**：
- 完全整合到現有 `categories` 表，避免資料重複
- SKU 分類代碼與產品分類強制關聯，確保一致性
- 保持向後兼容性，不影響現有產品分類系統

## 🎯 SKU 格式標準

### 統一格式
```
{4字分類代碼}-{3字屬性代碼}-{3位序號}
```

**總長度**: 12 字元 (固定長度)
**範例**: `CLTH-WHT-001`, `TECH-IPH-004`, `BEAU-GEN-001`

## 📊 分類代碼標準化

| 分類名稱 | 分類代碼 | 說明 | 範例產品 |
|----------|----------|------|----------|
| 服飾類 | `CLTH` | Clothing - 所有服裝相關產品 | T恤、牛仔褲、帽子、鞋子 |
| 3C電子 | `TECH` | Technology - 電子產品 | 手機、電腦、平板 |
| 美妝保養 | `BEAU` | Beauty - 美妝保養品 | 精華液、面霜、洗面乳 |
| 家居用品 | `HOME` | Home - 家庭用品 | 蠟燭、毛巾、檯燈 |
| 書籍文具 | `BOOK` | Books - 書籍與文具 | 筆記本、原子筆、教學書 |
| 食品飲料 | `FOOD` | Food - 食品類 | 咖啡豆、蜂蜜、巧克力 |
| 戶外用品 | `OUTD` | Outdoor - 戶外運動用品 | 背包、水壺、瑜伽墊 |
| 測試商品 | `TEST` | Test - 測試與示範用品 | 滯銷測試品 |

## 🏷️ 屬性代碼標準化

### 顏色代碼
| 顏色 | 代碼 | 英文 |
|------|------|------|
| 白色 | `WHT` | White |
| 黑色 | `BLK` | Black |
| 藍色 | `BLU` | Blue |
| 紅色 | `RED` | Red |
| 灰色 | `GRY` | Gray |
| 綠色 | `GRN` | Green |

### 尺寸代碼
| 尺寸 | 代碼 | 說明 |
|------|------|------|
| 小號 | `SML` | Small |
| 中號 | `MED` | Medium |
| 大號 | `LRG` | Large |
| 特大 | `XLG` | Extra Large |

### 材質代碼
| 材質 | 代碼 | 說明 |
|------|------|------|
| 棉質 | `COT` | Cotton |
| 聚酯 | `POL` | Polyester |
| 皮革 | `LEA` | Leather |
| 竹纖維 | `BAM` | Bamboo |

### 類型代碼
| 類型 | 代碼 | 說明 |
|------|------|------|
| 基本款 | `GEN` | General/Basic |
| 專業款 | `PRO` | Professional |
| 限量版 | `LTD` | Limited Edition |
| 運動款 | `RUN` | Running/Sport |
| 慢動品 | `SLW` | Slow Moving |

### 品牌代碼 (3C 產品)
| 品牌 | 代碼 | 說明 |
|------|------|------|
| iPhone | `IPH` | Apple iPhone |
| Samsung | `SAM` | Samsung |
| Sony | `SON` | Sony |

## 📋 SKU 對應表 (實際範例)

### 服飾類 (CLTH)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| TEE-WHT-001 | `CLTH-WHT-001` | 經典白T恤 | 服飾-白色-001 |
| JEAN-BLU-002 | `CLTH-BLU-002` | 高級牛仔褲 | 服飾-藍色-002 |
| CAP-LTD-003 | `CLTH-LTD-003` | 限量聯名帽 | 服飾-限量版-003 |
| SHOE-RUN-005 | `CLTH-RUN-005` | 熱銷運動鞋 | 服飾-運動款-005 |

### 3C電子 (TECH)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| PHONE-IPH-004 | `TECH-IPH-004` | iPhone 15 Pro | 科技-iPhone-004 |

### 美妝保養 (BEAU)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| BEAUTY-001 | `BEAU-GEN-001` | 保濕精華液 | 美妝-通用-001 |
| BEAUTY-002 | `BEAU-GEN-002` | 抗老面霜 | 美妝-通用-002 |
| BEAUTY-003 | `BEAU-GEN-003` | 溫和洗面乳 | 美妝-通用-003 |

### 家居用品 (HOME)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| HOME-001 | `HOME-GEN-001` | 香氛蠟燭 | 家居-通用-001 |
| HOME-002 | `HOME-GEN-002` | 竹纖維毛巾組 | 家居-通用-002 |
| HOME-003 | `HOME-GEN-003` | 智能檯燈 | 家居-通用-003 |

### 書籍文具 (BOOK)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| BOOK-001 | `BOOK-GEN-001` | 商業思維筆記本 | 書籍-通用-001 |
| BOOK-002 | `BOOK-GEN-002` | 多色原子筆套裝 | 書籍-通用-002 |
| BOOK-003 | `BOOK-GEN-003` | Python程式設計書 | 書籍-通用-003 |

### 食品飲料 (FOOD)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| FOOD-001 | `FOOD-GEN-001` | 精品咖啡豆 | 食品-通用-001 |
| FOOD-002 | `FOOD-GEN-002` | 有機蜂蜜 | 食品-通用-002 |
| FOOD-003 | `FOOD-GEN-003` | 手工巧克力禮盒 | 食品-通用-003 |

### 戶外用品 (OUTD)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| OUTDOOR-001 | `OUTD-GEN-001` | 登山背包 | 戶外-通用-001 |
| OUTDOOR-002 | `OUTD-GEN-002` | 運動水壺 | 戶外-通用-002 |
| OUTDOOR-003 | `OUTD-GEN-003` | 瑜伽墊 | 戶外-通用-003 |

### 測試商品 (TEST)
| 原 SKU | 新標準 SKU | 產品名稱 | 說明 |
|--------|------------|----------|------|
| SLOW-001 | `TEST-SLW-001` | 滯銷測試商品A | 測試-慢動-001 |
| SLOW-002 | `TEST-SLW-002` | 滯銷測試商品B | 測試-慢動-002 |
| SLOW-003 | `TEST-SLW-003` | 滯銷測試商品C | 測試-慢動-003 |

## ✅ 格式驗證規則

### 基本規則
1. **總長度**: 固定 12 字元
2. **格式**: `XXXX-XXX-XXX`
3. **分隔符**: 使用連字號 `-`
4. **大小寫**: 全部大寫字母
5. **字元限制**: 僅允許字母和數字

### 各部分規則
- **分類代碼**: 4 位大寫字母 (必須在預定義清單中)
- **屬性代碼**: 3 位大寫字母或數字
- **序號**: 3 位數字 (001-999)

### 範例驗證
```
✅ 正確: CLTH-WHT-001
✅ 正確: TECH-IPH-004
✅ 正確: BEAU-GEN-001

❌ 錯誤: TEE-WHT-001 (分類代碼不標準)
❌ 錯誤: CLTH-WHITE-1 (屬性代碼過長, 序號不足位)
❌ 錯誤: clth-wht-001 (小寫字母)
❌ 錯誤: CLTH_WHT_001 (使用底線而非連字號)
```

## 🔧 實施指引

### 新產品 SKU 生成
1. 選擇對應的分類代碼 (4字)
2. 根據產品特性選擇屬性代碼 (3字)
3. 使用該分類下的下一個序號 (3位)
4. 組合成標準格式並驗證唯一性

### 現有產品遷移
- 測試環境: 使用 `seed-test.sql` 中的新標準格式
- 生產環境: 保持現有 SKU 不變，新產品採用新標準
- 提供可選的 SKU 標準化工具

### 系統整合 (整合版架構)
- **資料表整合**: SKU 分類代碼直接儲存在 `categories.sku_code` 欄位
- **強制關聯**: SKU 生成規則透過 `category_id` 參照 `categories` 表
- **資料庫約束**: 確保格式正確性和分類代碼有效性
- **前端表單**: 提供 SKU 生成輔助，分類選擇自動對應 SKU 代碼
- **API 層驗證**: 格式驗證和唯一性檢查，支援舊格式向後相容
- **單一真實來源**: 消除資料重複，分類資訊統一管理

## 📈 優勢

1. **一致性**: 所有 SKU 長度統一，便於系統處理
2. **可讀性**: 從 SKU 直接了解產品類型和屬性
3. **可擴展性**: 預留屬性代碼空間，支援未來擴展
4. **管理性**: 便於庫存管理、報表統計和業務分析
5. **標準化**: 遵循業界最佳實踐，便於團隊協作
6. **資料完整性**: 整合架構確保 SKU 與產品分類完全一致
7. **維護簡化**: 單一真實來源，降低維護複雜度

## 🔄 版本歷史

- **v1.0** (2025-09-16): 初版標準化規範，統一測試資料 SKU 格式
- **v1.1** (2025-09-16): 整合版架構，完全整合到現有 categories 表，消除資料重複問題